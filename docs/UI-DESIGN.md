# NotePadC UI 设计文档

## 概述

NotePadC 是一款专为 macOS 设计的轻量级 C 代码编辑器，采用现代化的深色主题设计，提供简洁、优雅的用户界面。

---

## 整体布局

### 布局结构

```
┌─────────────────────────────────────────────────────────────────┐
│                         Title Bar (30px)                        │
├────────┬──────────────┬─────────────────────────┬───────────────┤
│        │              │                         │               │
│Activity│   Sidebar    │      Editor Area        │    Panel      │
│  Bar   │  (题目管理器) │     (代码编辑器)         │   (终端)      │
│ (48px) │  (200-400px) │       (flex: 1)         │  (280-∞px)    │
│        │              │                         │               │
├────────┴──────────────┴─────────────────────────┴───────────────┤
│                        Status Bar (24px)                        │
└─────────────────────────────────────────────────────────────────┘
```

### 布局尺寸

| 组件 | 尺寸 | 说明 |
|------|------|------|
| Title Bar | 高度 30px | 窗口标题栏 |
| Activity Bar | 宽度 48px | 固定宽度 |
| Sidebar | 200px - 400px | 可拖拽调整，默认 240px |
| Editor Area | flex: 1 | 自适应剩余空间，最小 400px |
| Panel | 最小 280px | 可拖拽调整，默认 320px |
| Status Bar | 高度 24px | 底部状态栏 |

---

## 颜色系统

### 主题色板

```css
/* 背景色 - 统一深灰色 */
--bg-main: #000000;           /* 纯黑背景 */
--bg-activity-bar: #1a1a1a;   /* Activity Bar */
--bg-sidebar: #1a1a1a;        /* 题目管理器 */
--bg-editor: #1a1a1a;         /* 代码编辑器 */
--bg-terminal: #1a1a1a;       /* 终端面板 */
--bg-hover: #252525;          /* 悬停状态 */
--bg-selected: #094771;       /* 选中状态 */

/* 分割线 */
--divider-color: #333333;     /* 圆角分割线颜色 */
--border-color: #2a2a2a;      /* 普通边框颜色 */

/* 强调色 */
--accent: #007ACC;            /* 主强调色 (蓝色) */

/* 文字颜色 */
--text-primary: #E1E1E1;      /* 主要文字 */
--text-secondary: #6E6E6E;    /* 次要文字 */
```

### 难度标签颜色

| 难度 | 文字颜色 | 背景色 |
|------|----------|--------|
| Easy | #4ade80 | rgba(74, 222, 128, 0.15) |
| Medium | #fbbf24 | rgba(251, 191, 36, 0.15) |
| Hard | #f87171 | rgba(248, 113, 113, 0.15) |

### 文件图标颜色

| 文件类型 | 颜色 |
|----------|------|
| .c 文件 | #519ABA |
| .h 文件 | #A074C4 |
| 文件夹 (关闭) | #6E6E6E |
| 文件夹 (打开) | #DCAD5A |

---

## 分割线设计

### 圆角分割线

三个主要区域之间使用统一的圆角分割线：

```css
/* 分割线样式 */
width: 1px;
background: #333333;
border-radius: 0.5px;
top: 8px;
bottom: 8px;
```

### 分割线位置

1. **Activity Bar 右侧** - 与题目管理器之间
2. **Editor Area 左侧** - 与题目管理器之间
3. **Panel 左侧** - 与代码编辑器之间

---

## 组件详细设计

### 1. Activity Bar (活动栏)

**位置**: 最左侧  
**宽度**: 48px (固定)  
**背景色**: #1a1a1a

#### 结构
```
┌────────┐
│  图标  │  ← 48x48px 点击区域
│        │
│  图标  │
│  ...   │
│        │
│ ─────  │  ← 底部图标区
│  设置  │
└────────┘
```

#### 图标项样式
- 尺寸: 48px × 48px
- 图标大小: 24px × 24px
- 默认颜色: #6E6E6E (text-secondary)
- 悬停颜色: #E1E1E1 (text-primary)
- 激活状态: 左侧 2px 蓝色边框 (#007ACC)

#### 徽章 (Badge)
- 位置: 右上角 (top: 8px, right: 8px)
- 最小宽度: 16px
- 高度: 16px
- 背景: #007ACC
- 文字: 白色, 9px, 600 字重
- 圆角: 8px

---

### 2. Sidebar (题目管理器)

**位置**: Activity Bar 右侧  
**宽度**: 200px - 400px (可拖拽)  
**默认宽度**: 240px  
**背景色**: #1a1a1a

#### 结构
```
┌──────────────────────┐
│ 题目管理器           │  ← Header (35px)
├──────────────────────┤
│ ▼ 题目列表      [3]  │  ← Section Header (22px)
│   📄 001-题目1   [E] │  ← Tree Item (28px)
│   📄 002-题目2   [M] │
│   📄 003-题目3   [H] │
│                      │
└──────────────────────┘
```

#### Header
- 高度: 35px
- 内边距: 0 16px
- 标题样式:
  - 字号: 12px
  - 字重: 600
  - 颜色: #6E6E6E
  - 大写字母
  - 字间距: 0.5px

#### Section Header
- 高度: 22px
- 内边距: 0 8px
- 悬停背景: #252525
- 展开图标: 16px × 16px
- 标题字号: 11px, 700 字重
- 徽章: 10px 字号, 圆角 10px

#### Tree Item (题目项)
- 高度: 28px
- 内边距: 0 12px 0 24px
- 外边距: 1px 4px
- 圆角: 4px
- 悬停背景: #252525
- 选中背景: #094771
- 文件图标: 16px × 16px
- 难度徽章: 10px 字号, 700 字重, 圆角 3px

#### 拖拽调整手柄
- 位置: 右侧边缘
- 宽度: 4px
- 悬停/激活颜色: #007ACC

---

### 3. 题目详情视图

当点击题目时显示的详情页面。

#### 结构
```
┌──────────────────────┐
│ ← Back              │  ← 返回按钮区 (padding: 8px)
├──────────────────────┤
│ 题目标题      [Easy] │  ← 标题行
│ ─────────────────── │
│ DESCRIPTION          │
│ 题目描述内容...      │
│                      │
│ INPUT                │
│ 输入格式说明...      │
│                      │
│ OUTPUT               │
│ 输出格式说明...      │
│                      │
│ EXAMPLES             │
│ ┌──────────────────┐ │
│ │ Input: ...       │ │  ← Example Box
│ │ Output: ...      │ │
│ └──────────────────┘ │
│                      │
│ CONSTRAINTS          │
│ • 约束条件1          │
│ • 约束条件2          │
│                      │
│ HINTS                │
│ 💡 提示1             │
│ 💡 提示2             │
├──────────────────────┤
│ [▶ Start Coding]     │  ← 开始按钮
└──────────────────────┘
```

#### 返回按钮
- 内边距: 4px 8px
- 圆角: 3px
- 字号: 12px
- 颜色: #6E6E6E → 悬停 #E1E1E1

#### 标题行
- 标题字号: 16px, 600 字重
- 难度徽章: 11px 字号, 600 字重, 圆角 4px

#### Section Label
- 字号: 10px
- 字重: 700
- 颜色: #007ACC
- 大写字母
- 字间距: 0.5px
- 下边距: 8px

#### Example Box
- 背景: rgba(0, 0, 0, 0.2)
- 边框: 1px solid #2D2D2D
- 圆角: 6px
- 内边距: 12px

#### 代码块
- 字体: 'SF Mono', Monaco, 'Courier New', monospace
- 字号: 12px
- 背景: rgba(0, 0, 0, 0.3)
- 内边距: 10px 12px
- 圆角: 4px

#### 开始按钮
- 宽度: 100%
- 内边距: 12px 16px
- 背景: #007ACC → 悬停 #1A8AD4
- 圆角: 8px
- 字号: 13px, 600 字重
- 悬停效果: translateY(-1px)

---

### 4. Panel (终端面板)

**位置**: 最右侧  
**最小宽度**: 280px  
**默认宽度**: 320px  
**背景色**: #1a1a1a

#### 结构
```
┌───────────────────────┐
│ OUTPUT  PROBLEMS  [×] │  ← Header (35px)
├───────────────────────┤
│                       │
│   终端输出内容...     │  ← Content
│                       │
└───────────────────────┘
```

#### Header
- 高度: 35px
- 内边距: 0 12px

#### Tab 样式
- 内边距: 0 12px
- 字号: 11px
- 字重: 500
- 大写字母
- 字间距: 0.5px
- 默认颜色: #6E6E6E
- 激活颜色: #E1E1E1
- 激活指示器: 底部 1px 蓝色线条

#### 操作按钮
- 尺寸: 24px × 24px
- 圆角: 4px
- 悬停背景: #252525

#### 拖拽调整手柄
- 位置: 左侧边缘
- 宽度: 4px
- 悬停/激活颜色: #007ACC

---

## 字体系统

### 字体族

```css
/* 系统字体 */
--font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

/* 等宽字体 */
--font-family-mono: 'SF Mono', Monaco, 'Courier New', monospace;
```

### 字号

| 变量 | 大小 | 用途 |
|------|------|------|
| --font-size-base | 13px | 正文、列表项 |
| --font-size-small | 11px | 标签、Tab、Section 标题 |
| --font-size-tiny | 10px | 徽章、小标签 |

### 行高

```css
--line-height: 1.4;
```

---

## 圆角系统

```css
--radius-sm: 4px;   /* 小元素: 按钮、列表项 */
--radius-md: 8px;   /* 中等元素: 主按钮、卡片 */
--radius-lg: 12px;  /* 大元素: 面板、模态框 */
```

---

## 过渡动画

```css
--transition-fast: 100ms ease;    /* 快速交互: 悬停、点击 */
--transition-normal: 150ms ease;  /* 普通交互 */
--transition-slow: 200ms ease;    /* 慢速动画 */
```

---

## 滚动条样式

```css
/* 尺寸 */
width: 10px;
height: 10px;

/* 轨道 */
background: transparent;

/* 滑块 */
background: rgba(110, 110, 110, 0.3);      /* 默认 */
background: rgba(110, 110, 110, 0.5);      /* 悬停 */
background: rgba(110, 110, 110, 0.6);      /* 激活 */
border-radius: 0;
```

---

## 响应式设计

### 最小尺寸约束

| 组件 | 最小尺寸 |
|------|----------|
| Sidebar | 200px |
| Editor Area | 400px |
| Panel | 280px |

### 折叠状态

- Sidebar 可折叠隐藏
- Panel 可折叠隐藏
- 折叠时对应分割线也隐藏

---

## 交互状态

### 悬停状态
- 背景色变化: → #252525
- 文字颜色变化: #6E6E6E → #E1E1E1
- 过渡时间: 100ms

### 选中状态
- 背景色: #094771
- 文字颜色: #FFFFFF

### 激活状态
- 强调色边框/线条: #007ACC
- 文字颜色: #E1E1E1

### 禁用状态
- 透明度: 0.5
- 光标: not-allowed

---

## 文件结构

```
src/
├── styles/
│   ├── global.css          # 全局变量和重置样式
│   └── App.css             # 主布局样式
├── components/
│   ├── ActivityBar/
│   │   ├── ActivityBar.tsx
│   │   └── ActivityBar.css
│   ├── Sidebar/
│   │   ├── Sidebar.tsx
│   │   └── Sidebar.css
│   ├── Panel/
│   │   ├── Panel.tsx
│   │   └── Panel.css
│   └── ...
```

---

## 版本历史

| 版本 | 日期 | 变更 |
|------|------|------|
| 2.0 | 2024-12 | 现代化 UI 重设计，统一深色主题，圆角分割线 |
